import{x as g,y as l}from"./index.1e787b1d.js";const O=t=>{const o=new Date(t),e={year:o.getFullYear(),month:o.getMonth(),day:o.getDate(),hour:o.getHours(),minute:o.getMinutes()};return`${e.year.toString().slice(2)}/${e.month+1<10?"0"+(e.month+1):e.month+1}/${e.day<10?"0"+e.day:e.day}  ${e.hour<10?"0"+e.hour:e.hour}:${e.minute<10?"0"+e.minute:e.minute}`},{dialog:h,loadingBar:T,message:E,notification:w}=g(["dialog","loadingBar","message","notification"]),n=(t,o,e={duration:3e3})=>{E[t](o,e)},P=(t,o={})=>{h[t](o)},S=(t,o)=>{let e=null;return function(...r){e&&clearTimeout(e),e=window.setTimeout(()=>{t(...r)},o)}},v=(t,o)=>{let e=!0;return function(...r){e&&(e=!1,t(...r),setTimeout(()=>{e=!0},o))}},R={code:"200",msg:"login success"},c={code:"501",msg:"login error, the status code is 501"},i={code:"580",msg:"server error, login error, the code is 580"},a={code:"500",msg:"server exception, the status code is 500"},m={code:"600",msg:"provide info error, response failed, the status code is 600"},u={code:"650",msg:"provide information already exist, response error, the status code is 650"},d={code:"700",msg:"Token Error, the status code is 700"},s=function(t,o){const e=l.create(t);return e.interceptors.request.use(function(r){return r.headers.token=window.localStorage.getItem("token"),r},function(r){return Promise.reject(r)}),e.interceptors.response.use(function(r){switch(r.data.code){case R.code:break;case c.code:return window.localStorage.removeItem("token"),Promise.reject(c.msg);case i.code:return window.localStorage.removeItem("token"),Promise.reject(i.msg);case d.code:return window.localStorage.removeItem("token"),Promise.reject(d.msg);case a.code:return Promise.reject(a.msg);case m.code:return n("error",r.data.msg),Promise.reject(m.msg);case u.code:return n("error",r.data.msg),Promise.reject(u.msg)}return r},function(r){return Promise.reject(r)}),e({...t})},p=(t,o)=>s({...t,method:"GET"}),I=(t,o)=>s({...t,method:"POST"}),j=(t,o)=>s({...t,method:"DELETE"});export{P as D,n as M,v as T,j as a,O as b,S as c,p as g,I as p};
